<!DOCTYPE html>
<html lang="zxx">

<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="./../assets/css/bootstrap.min.css">
    <!--! END: Bootstrap CSS-->
    <!--! BEGIN: Vendors CSS-->
    <link rel="stylesheet" type="text/css" href="./../assets/vendors/css/vendors.min.css">
    <link rel="stylesheet" type="text/css" href="./../assets/vendors/css/select2.min.css">
    <link rel="stylesheet" type="text/css" href="./../assets/vendors/css/select2-theme.min.css">
    <link rel="stylesheet" type="text/css" href="./../assets/vendors/css/tagify.min.css">
    <link rel="stylesheet" type="text/css" href="./../assets/vendors/css/tagify-data.min.css">
    <link rel="stylesheet" type="text/css" href="./../assets/vendors/css/quill.min.css">
    <!--! END: Vendors CSS-->
    <!--! BEGIN: Custom CSS-->
    <link rel="stylesheet" type="text/css" href="./../assets/css/theme.min.css">
    <!--! END: Custom CSS-->
    <!--! HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries !-->
    <!--! WARNING: Respond.js doesn"t work if you view the page via file: !-->
    <!--[if lt IE 9]>
			<script src="https:oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
			<script src="https:oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
		<![endif]-->
</head>

<body>
    <!--! ================================================================ !-->
    <!--! [Start] Main Content !-->
    <!--! ================================================================ !-->
    <main class="nxl-container apps-container apps-email bg-white">
        <div class="nxl-content without-header nxl-full-content">
            <!-- [ Main Content ] start -->
            <div class="row">
                <!-- First container (main card) -->
                <div class="col-md-4">
                    <div class="card stretch shadow-none" style="margin-right: 1%;">
                        <div class="card-body">
                            <div class="mb-4 text-center">
                                <div class="mb-2">
                                    <span class="fs-24">USER DETAILS</span>
                                </div>
                            </div>

                            <div class="profile-details">
                                <div class="d-flex justify-content-between mb-2">
                                    <span class="fw-semibold text-muted">Name:</span>
                                    <span class="fw-normal profile-name">--</span>
                                </div>
                                <div class="d-flex justify-content-between mb-2">
                                    <span class="fw-semibold text-muted">Email:</span>
                                    <span class="fw-normal profile-email">--</span>
                                </div>
                                <div class="d-flex justify-content-between mb-2">
                                    <span class="fw-semibold text-muted">Phone Number:</span>
                                    <span class="fw-normal profile-phone">--</span>
                                </div>
                                <div class="d-flex justify-content-between mb-2">
                                    <span class="fw-semibold text-muted">College Name:</span>
                                    <span class="fw-normal profile-college">--</span>
                                </div>
                                <div class="d-flex justify-content-between align-items-center mb-4">
                                    <span class="fw-semibold text-muted">Referral Code:</span>
                                    <div class="d-flex align-items-center">
                                        <span class="fw-normal me-2" id="referralCode">--</span>
                                        <i class="bi bi-clipboard fs-5 text-primary" role="button"
                                            onclick="copyReferralCode()" title="Copy"></i>
                                    </div>
                                </div>
                                <div class="col-md-12">
                                    <div
                                        class="card bg-soft-primary text-primary border-primary border-dashed shadow-none">
                                        <div class="card-body">
                                            <!-- Referral Link -->
                                            <a href="#" target="_blank" class="fs-9 fw-bold text-reset d-block mb-2"
                                                id="referralLink">--</a>

                                            <!-- Copy Button -->
                                            <button class="btn btn-primary btn-outline-primary w-100"
                                                onclick="copyReferral()">
                                                Copy Link
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <script>
                    function copyReferralCode() {
                        const code = document.getElementById("referralCode").innerText;
                        navigator.clipboard.writeText(code).then(() => {
                            alert("Referral Code copied!");
                        }).catch(err => {
                            console.error("Failed to copy: ", err);
                        });
                    }
                </script>

                <script>
                    function copyReferral() {
                        const link = document.getElementById("referralLink").innerText;
                        navigator.clipboard.writeText(link).then(() => {
                            alert("Referral link copied!");
                        }).catch(err => {
                            console.error("Failed to copy: ", err);
                        });
                    }
                </script>

                <!-- Right side two containers -->
                <div class="col-md-8">
                    <div class="row">
                        <div class="col-md-6" style="margin-bottom: 1%;">
                            <div class="card bg-soft-primary text-primary border-primary border-dashed">
                                <div class="card-body d-flex flex-column justify-content-center align-items-center">
                                    <a href="javascript:void(0);" class="fw-bold d-block text-reset text-center">
                                        <span class="d-block">Number of Internship courses</span>
                                        <span class="fw-bolder d-block" style="font-size: 80px;">04</span>
                                    </a>
                                    <div class="pt-4">
                                        <div class="d-flex align-items-center justify-content-between">
                                            <!-- <a href="javascript:void(0);" class="fs-12 fw-medium text-reset">
                                <span>Invoices Awaiting</span>
                                <i class="feather-link-2 fs-10 ms-1"></i>
                            </a> -->
                                            <div>
                                                <!-- <span class="fs-12 text-reset">$5,569</span>
                                <span class="fs-11 text-reset">(56%)</span> -->
                                            </div>
                                        </div>
                                        <!-- <div class="progress mt-2 ht-3">
                            <div class="progress-bar bg-primary" role="progressbar" style="width: 56%">
                            </div>
                        </div> -->
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="col-md-6" style="margin-bottom: 1%;">
                            <div class="card bg-soft-primary text-primary border-primary border-dashed">
                                <div class="card-body d-flex flex-column justify-content-center align-items-center">
                                    <a href="javascript:void(0);" class="fw-bold d-block text-reset text-center">
                                        <span class="d-block">Subscription Wallet left</span>
                                        <span class="fw-bolder d-block" style="font-size: 80px;">04</span>
                                    </a>
                                    <div class="pt-4">
                                        <div class="d-flex align-items-center justify-content-between">
                                            <!-- <a href="javascript:void(0);" class="fs-12 fw-medium text-reset">
                                <span>Invoices Awaiting</span>
                                <i class="feather-link-2 fs-10 ms-1"></i>
                            </a> -->
                                            <div>
                                                <!-- <span class="fs-12 text-reset">$5,569</span>
                                <span class="fs-11 text-reset">(56%)</span> -->
                                            </div>
                                        </div>
                                        <!-- <div class="progress mt-2 ht-3">
                            <div class="progress-bar bg-primary" role="progressbar" style="width: 56%">
                            </div>
                        </div> -->
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="col-md-12" style="margin-bottom: 1%;">
                            <div class="card bg-soft-danger text-danger border-danger border-dashed">
                                <div class="card-body">
                                    <a href="/profile1.html" target="_top" class="fw-bold d-block text-reset">
                                        <span class="d-block">Profile Completion</span>
                                    </a>
                                    <div class="pt-4">
                                        <div class="d-flex align-items-center justify-content-between">
                                            <div>
                                                <span
                                                    class="fs-11 fw-bold text-reset profile-completion-percent">(0%)</span>
                                            </div>
                                        </div>
                                        <div class="progress mt-2 ht-3">
                                            <div class="progress-bar bg-danger profile-completion-bar"
                                                role="progressbar" style="width: 0%">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- [Mini Card] start -->
                <h3 class="card-title" style="margin-top: 2%; margin-bottom: 1%; margin-left: 1%;">My Internships</h3>
                <div class="row" id="internshipCardsContainer">
                    <!-- Cards will be injected here -->
                </div>
                <div class="col-xxl-4 col-md-6">
                    <div class="card stretch stretch-full">
                        <div class="card-body">
                            <div class="hstack justify-content-between">
                                <div>
                                    <h4 class="text-warning">FINANCIAL MANAGEMENT</h4>
                                    <div class="text-muted">DAY 10</div>
                                </div>
                                <div class="text-end">
                                    <i class="feather-trending-up fs-2"></i>
                                </div>
                            </div>
                        </div>
                        <div class="card-footer bg-warning py-3 text-center">
                            <!-- Centered status -->
                            <p class="text-white mb-3 fw-bold">Ongoing</p>

                            <!-- Labels on left, values on right -->
                            <div class="d-flex justify-content-between text-white">
                                <div class="text-start">
                                    <p class="mb-1">Course Completion Status:</p>
                                    <p class="mb-0">Business Target Completed:</p>
                                </div>
                                <div class="text-end">
                                    <p class="mb-1">0/0</p>
                                    <p class="mb-0">0/0</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-xxl-4 col-md-6">
                    <div class="card stretch stretch-full">
                        <div class="card-body">
                            <div class="hstack justify-content-between">
                                <div>
                                    <h4 class="text-success">MARKETING EXPERT</h4>
                                    <div class="text-muted">FINISHED</div>
                                </div>
                                <div class="text-end">
                                    <i class="feather-pie-chart fs-2"></i>
                                </div>
                            </div>
                        </div>
                        <div class="card-footer bg-success py-3">
                            <div class="hstack justify-content-between">
                                <p class="text-white mb-0">Completed</p>
                                <div class="text-end"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-xxl-4 col-md-6">
                    <div class="card stretch stretch-full">
                        <div class="card-body">
                            <div class="hstack justify-content-between">
                                <div>
                                    <h4 class="text-dark">PROJECT ANALYSIS</h4>
                                    <div class="text-muted">ON HOLD</div>
                                </div>
                                <div class="text-end">
                                    <i class="feather-pause-circle fs-2"></i>
                                </div>
                            </div>
                        </div>
                        <div class="card-footer bg-dark py-3">
                            <div class="hstack justify-content-between">
                                <p class="text-white mb-0">On Hold</p>
                                <div class="text-end"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-xxl-4 col-md-6">
                    <div class="card stretch stretch-full">
                        <div class="card-body">
                            <div class="hstack justify-content-between">
                                <div>
                                    <h4 class="text-danger">SALES STRATEGY</h4>
                                    <div class="text-muted">TERMINATED</div>
                                </div>
                                <div class="text-end">
                                    <i class="feather-x-circle fs-2"></i>
                                </div>
                            </div>
                        </div>
                        <div class="card-footer bg-danger py-3">
                            <div class="hstack justify-content-between">
                                <p class="text-white mb-0">Terminated</p>
                                <div class="text-end"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- [Mini Card] end -->
                <div class="d-flex justify-content-center">
                    <button class="btn btn-primary btn-outline-primary w-25" onclick="availCertificate()">
                        Avail Certificate
                    </button>
                </div>




                <!-- [Leads] start -->
                <div class="col-xxl-12" style="margin-top: 2%;">
                    <div class="card stretch stretch-full">
                        <div class="card-header">
                            <h5 class="card-title">BUSINESS SALES OVERVIEW</h5>
                            <div class="card-header-action">
                                <!-- <div class="card-header-btn">
                                    <div data-bs-toggle="tooltip" title="Delete">
                                        <a href="javascript:void(0);" class="avatar-text avatar-xs bg-danger"
                                            data-bs-toggle="remove"> </a>
                                    </div>
                                    <div data-bs-toggle="tooltip" title="Refresh">
                                        <a href="javascript:void(0);" class="avatar-text avatar-xs bg-warning"
                                            data-bs-toggle="refresh"> </a>
                                    </div>
                                    <div data-bs-toggle="tooltip" title="Maximize/Minimize">
                                        <a href="javascript:void(0);" class="avatar-text avatar-xs bg-success"
                                            data-bs-toggle="expand"> </a>
                                    </div>
                                </div> -->
                                <!-- <div class="dropdown">
                                    <a href="javascript:void(0);" class="avatar-text avatar-sm"
                                        data-bs-toggle="dropdown" data-bs-offset="25, 25">
                                        <div data-bs-toggle="tooltip" title="Options">
                                            <i class="feather-more-vertical"></i>
                                        </div>
                                    </a>
                                    <div class="dropdown-menu dropdown-menu-end">
                                        <a href="javascript:void(0);" class="dropdown-item"><i
                                                class="feather-at-sign"></i>New</a>
                                        <a href="javascript:void(0);" class="dropdown-item"><i
                                                class="feather-calendar"></i>Event</a>
                                        <a href="javascript:void(0);" class="dropdown-item"><i
                                                class="feather-bell"></i>Snoozed</a>
                                        <a href="javascript:void(0);" class="dropdown-item"><i
                                                class="feather-trash-2"></i>Deleted</a>
                                        <div class="dropdown-divider"></div>
                                        <a href="javascript:void(0);" class="dropdown-item"><i
                                                class="feather-settings"></i>Settings</a>
                                        <a href="javascript:void(0);" class="dropdown-item"><i
                                                class="feather-life-buoy"></i>Tips & Tricks</a>
                                    </div>
                                </div> -->
                            </div>
                        </div>
                        <div class="card-body custom-card-action p-0">
                            <div class="table-responsive">
                                <table class="table table-hover mb-0">
                                    <thead>
                                        <tr class="border-b">
                                            <th scope="row">Users</th>
                                            <th>Proposal</th>
                                            <th>Date</th>
                                            <th>Status</th>
                                            <th class="text-end">Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>
                                                <div class="d-flex align-items-center gap-3">
                                                    <div class="avatar-image">
                                                        <img src="./../assets/images/avatar/2.png" alt=""
                                                            class="img-fluid">
                                                    </div>
                                                    <a href="javascript:void(0);">
                                                        <span class="d-block">Archie Cantones</span>
                                                        <span
                                                            class="fs-12 d-block fw-normal text-muted">arcie.tones@gmail.com</span>
                                                    </a>
                                                </div>
                                            </td>
                                            <td>
                                                <span class="badge bg-gray-200 text-dark">Sent</span>
                                            </td>
                                            <td>11/06/2023 10:53</td>
                                            <td>
                                                <span class="badge bg-soft-success text-success">Completed</span>
                                            </td>
                                            <td class="text-end">
                                                <a href="javascript:void(0);"><i class="feather-more-vertical"></i></a>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>
                                                <div class="d-flex align-items-center gap-3">
                                                    <div class="avatar-image">
                                                        <img src="./../assets/images/avatar/3.png" alt=""
                                                            class="img-fluid">
                                                    </div>
                                                    <a href="javascript:void(0);">
                                                        <span class="d-block">Holmes Cherryman</span>
                                                        <span
                                                            class="fs-12 d-block fw-normal text-muted">golms.chan@gmail.com</span>
                                                    </a>
                                                </div>
                                            </td>
                                            <td>
                                                <span class="badge bg-gray-200 text-dark">New</span>
                                            </td>
                                            <td>11/06/2023 10:53</td>
                                            <td>
                                                <span class="badge bg-soft-primary text-primary">In Progress </span>
                                            </td>
                                            <td class="text-end">
                                                <a href="javascript:void(0);"><i class="feather-more-vertical"></i></a>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>
                                                <div class="d-flex align-items-center gap-3">
                                                    <div class="avatar-image">
                                                        <img src="./../assets/images/avatar/4.png" alt=""
                                                            class="img-fluid">
                                                    </div>
                                                    <a href="javascript:void(0);">
                                                        <span class="d-block">Malanie Hanvey</span>
                                                        <span
                                                            class="fs-12 d-block fw-normal text-muted">lanie.nveyn@gmail.com</span>
                                                    </a>
                                                </div>
                                            </td>
                                            <td>
                                                <span class="badge bg-gray-200 text-dark">Sent</span>
                                            </td>
                                            <td>11/06/2023 10:53</td>
                                            <td>
                                                <span class="badge bg-soft-success text-success">Completed</span>
                                            </td>
                                            <td class="text-end">
                                                <a href="javascript:void(0);"><i class="feather-more-vertical"></i></a>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>
                                                <div class="d-flex align-items-center gap-3">
                                                    <div class="avatar-image">
                                                        <img src="./../assets/images/avatar/5.png" alt=""
                                                            class="img-fluid">
                                                    </div>
                                                    <a href="javascript:void(0);">
                                                        <span class="d-block">Kenneth Hune</span>
                                                        <span
                                                            class="fs-12 d-block fw-normal text-muted">nneth.une@gmail.com</span>
                                                    </a>
                                                </div>
                                            </td>
                                            <td>
                                                <span class="badge bg-gray-200 text-dark">Returning</span>
                                            </td>
                                            <td>11/06/2023 10:53</td>
                                            <td>
                                                <span class="badge bg-soft-warning text-warning">Not Interested</span>
                                            </td>
                                            <td class="text-end">
                                                <a href="javascript:void(0);"><i class="feather-more-vertical"></i></a>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>
                                                <div class="d-flex align-items-center gap-3">
                                                    <div class="avatar-image">
                                                        <img src="./../assets/images/avatar/6.png" alt=""
                                                            class="img-fluid">
                                                    </div>
                                                    <a href="javascript:void(0);">
                                                        <span class="d-block">Valentine Maton</span>
                                                        <span
                                                            class="fs-12 d-block fw-normal text-muted">alenine.aton@gmail.com</span>
                                                    </a>
                                                </div>
                                            </td>
                                            <td>
                                                <span class="badge bg-gray-200 text-dark">Sent</span>
                                            </td>
                                            <td>11/06/2023 10:53</td>
                                            <td>
                                                <span class="badge bg-soft-success text-success">Completed</span>
                                            </td>
                                            <td class="text-end">
                                                <a href="javascript:void(0);"><i class="feather-more-vertical"></i></a>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        <div class="card-footer">
                            <ul class="list-unstyled d-flex align-items-center gap-2 mb-0 pagination-common-style">
                                <li>
                                    <a href="javascript:void(0);"><i class="bi bi-arrow-left"></i></a>
                                </li>
                                <li><a href="javascript:void(0);" class="active">1</a></li>
                                <li><a href="javascript:void(0);">2</a></li>
                                <li>
                                    <a href="javascript:void(0);"><i class="bi bi-dot"></i></a>
                                </li>
                                <li><a href="javascript:void(0);">8</a></li>
                                <li><a href="javascript:void(0);">9</a></li>
                                <li>
                                    <a href="javascript:void(0);"><i class="bi bi-arrow-right"></i></a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
                <!-- [Leads] end -->

            </div>

            <!-- [ Content Area ] end -->
        </div>
        <!-- [ Main Content ] end -->
        </div>
    </main>
    <!--! ================================================================ !-->
    <!--! [End] Main Content !-->
    <!--! ================================================================ !-->
    <!--! ================================================================ !-->
    <!--! BEGIN: Compose Mail Modal !-->
    <!--! ================================================================ !-->
    <!--! ================================================================ !-->
    <!--! END: Compose Mail Modal !-->
    <!--! ================================================================ !-->
    <!--! ================================================================ !-->
    <!--! [Start] Search Modal !-->
    <!--! ================================================================ !-->

    <style>
        main.nxl-container.apps-container.apps-email {
            margin-top: 0 !important;
            padding-top: 0 !important;
            position: relative;
            top: 0;
        }

        main.nxl-container.apps-container.apps-email {
            margin: 0 !important;
            padding: 0 !important;
            position: relative;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            /* Full viewport height */
            box-sizing: border-box;
        }

        .content-sidebar-header .btn-primary {
            background-color: #36d5d5 !important;
            border-color: #36d5d5 !important;
            color: white !important;
        }

        .content-sidebar-header .btn-primary:hover {
            background-color: #36d5d5 !important;
            /* darker teal */
            border-color: #36d5d5 !important;
        }
    </style>

    <style>
        .email-chip {
            display: flex;
            align-items: center;
            background-color: #e0e0e0;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 14px;
            color: #333;
        }

        .email-chip .remove-btn {
            margin-left: 8px;
            cursor: pointer;
            font-weight: bold;
        }

        .email-chip .remove-btn:hover {
            color: red;
        }

        .email-chip .avatar {
            width: 22px;
            height: 22px;
            background-color: #9cc1f9;
            border-radius: 50%;
            display: inline-block;
            margin-right: 8px;
        }
    </style>

    <!--! ================================================================ !-->
    <!--! [End] Theme Customizer !-->
    <!--! ================================================================ !-->
    <!--! ================================================================ !-->
    <!--! Footer Script !-->
    <!--! ================================================================ !-->
    <!--! BEGIN: Vendors JS !-->
    <script src="./../assets/vendors/js/vendors.min.js"></script>
    <!-- vendors.min.js {always must need to be top} -->
    <script src="./../assets/vendors/js/select2.min.js"></script>
    <script src="./../assets/vendors/js/select2-active.min.js"></script>
    <script src="./../assets/vendors/js/tagify.min.js"></script>
    <script src="./../assets/vendors/js/tagify-data.min.js"></script>
    <script src="./../assets/vendors/js/quill.min.js"></script>
    <!--! END: Vendors JS !-->
    <!--! BEGIN: Apps Init  !-->
    <script src="./../assets/js/common-init.min.js"></script>
    <script src="./../assets/js/apps-email-init.min.js"></script>
    <!--! END: Apps Init !-->
    <!--! BEGIN: Theme Customizer  !-->
    <script src="./../assets/js/theme-customizer-init.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    <!--! END: Theme Customizer !-->

    <script>
        $(document).ready(function () {
            const userId = sessionStorage.getItem("user_id");
            console.log("user_id:", userId);
            $.ajax({
                url: `https://eduroom.in/api/v1/user/profile/${userId}`,
                method: "GET",
                success: function (response) {
                    if (response.success && response.data) {
                        console.log(response);
                        const user = response.data;

                        const completion = user.ProfileCompletion || 0;
                        $(".profile-completion-percent").text(`(${completion}%)`);
                        $(".profile-completion-bar").css("width", `${completion}%`);

                        $(".profile-name").text(user.Name);
                        $(".profile-email").text(user.Email);
                        $(".profile-phone").text(user.PhoneNumber);
                        $(".profile-college").text(user.CollegeName);

                        $("#referralCode").text(user.ReferralCode);
                        $("#referralLink").text(user.ReferralLink);
                        $("#referralLink").attr("href", user.ReferralLink);
                    }
                },
                error: function (err) {
                    console.error("Failed to fetch user profile:", err);
                }
            });
        });
    </script>

    <script>
$(document).ready(function () {
    const container = $("#internshipCardsContainer");

    // Fetch internships for user
    $.ajax({
        url: "https://eduroom.in/api/v1/user/internships", // Replace with your backend endpoint
        method: "GET",
        dataType: "json",
        success: function(res) {
            if (res.success && res.data.length > 0) {
                container.empty();

                res.data.forEach(function(item) {
                    const {
                        previewId,
                        courseId,
                        sessionId,
                        dayNumber,
                        sessionNumber,
                        userId,
                        duration,
                        name,
                        status,
                        businessTargetCompleted,
                        courseCompletionStatus
                    } = item;

                    // Set card color based on status
                    let headerColor = "";
                    let footerColor = "";
                    let displayStatus = status.charAt(0).toUpperCase() + status.slice(1); // Capitalize first letter

                    switch(status.toLowerCase()) {
                        case "ongoing":
                            headerColor = "text-warning";
                            footerColor = "bg-warning";
                            break;
                        case "completed":
                            headerColor = "text-success";
                            footerColor = "bg-success";
                            break;
                        case "onhold":
                            headerColor = "text-dark";
                            footerColor = "bg-dark";
                            break;
                        case "terminated":
                            headerColor = "text-danger";
                            footerColor = "bg-danger";
                            break;
                        default:
                            headerColor = "text-muted";
                            footerColor = "bg-light";
                    }

                    const card = `
                    <div class="col-xxl-4 col-md-6 mb-4">
                        <div class="card stretch stretch-full">
                            <div class="card-body">
                                <div class="text-center">
                                    <h4 class="${headerColor} fw-bold">${name}</h4>
                                    <div class="text-muted">${duration}</div>
                                    <p class="${headerColor} fw-bold mt-2">${displayStatus}</p>
                                </div>
                            </div>
                            <div class="card-footer ${footerColor} py-3 text-center">
                                <p class="text-white mb-3 fw-bold">${displayStatus}</p>
                                <div class="d-flex justify-content-between text-white">
                                    <div class="text-start">
                                        <p class="mb-1">Course Completion Status:</p>
                                        <p class="mb-0">Business Target Completed:</p>
                                    </div>
                                    <div class="text-end">
                                        <p class="mb-1">${courseCompletionStatus || "0/0"}</p>
                                        <p class="mb-0">${businessTargetCompleted || "0/0"}</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    `;

                    const $card = $(card);

                    // Click handler based on status
                    $card.on("click", function() {
                        switch(status.toLowerCase()) {
                            case "ongoing":
                                window.location.href = `/course-details.html?courseId=${courseId}&previewId=${previewId}&day=${dayNumber}&session=${sessionNumber}&userId=${userId}`;
                                break;
                            case "completed":
                                Swal.fire("Completed!", "You have already completed this internship.", "success");
                                break;
                            case "onhold":
                                window.location.href = `/course-details.html?courseId=${courseId}&previewId=${previewId}&day=${dayNumber}&session=${sessionNumber}&userId=${userId}`;
                                break;
                            case "terminated":
                                Swal.fire("Terminated", "This internship has been terminated.", "error");
                                break;
                        }
                    });

                    container.append($card);
                });

            } else {
                container.html("<p>No internships found.</p>");
            }
        },
        error: function(xhr, status, error) {
            console.error("AJAX Error:", status, error);
            container.html("<p>Failed to load internships.</p>");
        }
    });
});
</script>

</body>

</html>