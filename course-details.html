<!doctype html>
<html class="no-js" lang="zxx">

<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Eduroom || Course Details</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Place favicon.ico in the root directory -->
    <link rel="shortcut icon" href="images/logo/shape-1.png" type="image/x-icon">

    <!-- All css here -->
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/fontawesome-all.min.css">
    <link rel="stylesheet" href="css/nice-select.css">
    <link rel="stylesheet" href="css/aos.css">
    <link rel="stylesheet" href="css/animate.css">
    <link rel="stylesheet" href="css/slick.css">
    <link rel="stylesheet" href="css/jquery.fancybox.min.css">
    <link rel="stylesheet" href="css/meanmenu.css">
    <link rel="stylesheet" href="css/all-animations.css">
    <link rel="stylesheet" href="css/default.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/responsive.css">
</head>

<body>
    <!--[if lte IE 9]>
            <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
        <![endif]-->

    <!--  ====== preloader=============================================  -->
    <div id="preloader">
        <div id="loading">
            <div id="loading-center">
                <div id="loading-center-absolute">
                    <div class="object" id="object_one"></div>
                    <div class="object" id="object_two"></div>
                    <div class="object" id="object_three"></div>
                </div>
            </div>
        </div>
    </div><!-- /preloader -->

    <!--  ====== header-area-start=======================================  -->
    <header>
        <div id="header-sticky" class="transparent-header header-area home2 home4 white-color-header">
            <div class="header">
                <div class="container-wrapper">
                    <div class="row align-items-center justify-content-between position-relative">
                        <div class="col-xl-2 col-lg-2 col-md-3 col-sm-5 col-6">
                            <div class="logo">
                                <a href="index.html" class="d-block"><img src="images/logo/logo4.png" alt="Larna"></a>
                            </div>
                        </div><!-- /col -->
                        <div class="col-xl-6 col-lg-7 col-md-1 col-sm-1 col-1 pl-lg-4 d-none d-lg-flex position-static">
                            <div class="main-menu">
                                <nav id="mobile-menu">
                                    <ul class="d-block">
                                        <li><a class="active" href="index.html">Home</a></li>

                                        <li><a href="about.html">About</a>
                                        </li><!-- /About -->
                                        <li><a href="careers.html">Careers</a>
                                        </li>

                                        <li class="full-mega-menu-position">
                                            <a href="/domain-list.html">Live Projects</a>
                                            <ul class="mega-menu full-mega-menu full-mega-menu1 d-lg-flex white-bg pt-35 pb-25 pl-30 pr-70 ml-0"
                                                id="domainCourseWrapper">
                                                <!-- Domains & Courses will be populated here dynamically -->
                                            </ul>
                                        </li><!-- /Course -->
                                        <li><a href="profile.html">Profile</a>

                                        <li><a href="contact.html">Contact</a>
                                        </li><!-- /Contact -->
                                    </ul>
                                </nav>
                            </div><!-- /main-menu -->
                        </div>
                        <!-- <div class="col-xl-2 col-lg-3 col-md-6 col-sm-4 col-4 pl-lg-0">
                            <div class="header-right d-flex align-items-center justify-content-end">
                                <ul class="header-login mr-15 d-none d-sm-block">
                                    <li>
                                        <a class="d-inline-block main-color" href="login.html" data-toggle="tooltip"
                                            data-selector="true" data-placement="bottom" title="Login / Register">
                                            Login</a>
                                    </li>
                                </ul>

                                <div class="my-btn d-none d-sm-block">
                                    <a href="register.html" class="btn white-bg">sign up</a>
                                </div>

                                <div class="d-block d-sm-none pl-20">
                                    <a class="mobile-menubar theme-color" href="javascript:void(0);"><i
                                            class="far fa-bars"></i></a>
                                </div>
                            </div>
                        </div> -->
                        <div id="header-auth-section" class="col-xl-2 col-lg-3 col-md-6 col-sm-4 col-4 pl-lg-0">
                            <div class="header-right d-flex align-items-center justify-content-end">
                                <!-- Dynamic login/register or logout will be injected here -->
                                <div id="auth-buttons" class="d-flex align-items-center"></div>

                                <div class="d-block d-sm-none pl-20">
                                    <a class="mobile-menubar theme-color" href="javascript:void(0);">
                                        <i class="far fa-bars"></i>
                                    </a>
                                </div>
                            </div>
                        </div>

                        <div
                            class="col-xl-2  col-lg-2  col-md-3  col-sm-1 col-12 d-none d-sm-block d-lg-none d-xl-block">
                            <div
                                class="header-right-right-content text-right d-flex align-items-center justify-content-end">
                                <!-- <div class="mobile-menu"></div> -->
                                <ul class="social-link d-none d-md-block">
                                    <li class="d-inline-block">
                                        <a class="facebook-color text-center pr-15 d-inline-block transition-3"
                                            href="https://www.facebook.com/fundsroom/"><i
                                                class="fab fa-facebook-f"></i></a>
                                    </li>
                                    <li class="d-inline-block">
                                        <a class="twitter-color text-center pr-15 d-inline-block transition-3"
                                            href="https://x.com/fundsroom"><i class="fab fa-twitter"></i></a>
                                    </li>
                                    <li class="d-inline-block">
                                        <a class="youtube-color text-center pr-15 d-inline-block transition-3"
                                            href="https://www.youtube.com/@FundsAuditSafe"><i
                                                class="fab fa-youtube"></i></a>
                                    </li>
                                    <li class="d-inline-block">
                                        <a class="instagram-color text-center d-inline-block transition-3"
                                            href="https://www.instagram.com/funds_audit/"><i
                                                class="fab fa-instagram"></i></a>
                                    </li>
                                </ul><!-- social-link -->
                                <div class="d-block d-lg-none pl-3">
                                    <a class="mobile-menubar theme-color" href="javascript:void(0);"><i
                                            class="far fa-bars"></i></a>
                                </div><!-- /mobile-menubar -->
                            </div><!-- /header-right-left-content -->
                        </div><!-- /col -->
                    </div><!-- /row -->
                </div><!-- /container -->
            </div>
        </div><!-- /header-bottom -->
    </header>
    <!--  header-area-end  -->

    <!--  ====== header extra info start================================== -->
    <!-- side-mobile-menu start -->
    <div class="side-mobile-menu white-bg pt-10 pb-30 pl-35 pr-30 pb-100">
        <div class="d-fle justify-content-between w-100">
            <div class="close-icon d-inline-block float-right clear-both mt-15 mb-10">
                <a href="javascript:void(0);"><span class="icon-clear theme-color"><i
                            class="fa fa-times"></i></span></a>
            </div>
        </div>
        <!-- <div class="side-menu-search header-search-content mt-80 pr-15">
            <form action="#" class="position-relative">
                <input class="w-100 rounded-0 pb-2" type="text" placeholder="Type Keyword...">
                <a class="position-absolute right-0 top-0 dark-black-color d-block" href="#"><i
                        class="fas fa-search"></i></a>
            </form>
        </div> -->

        <div class="mobile-menu mt-50 w-100"></div>
        <ul class="social-link pt-85 clear-both">
            <li class="d-inline-block">
                <a class="facebook-color text-center pr-15 d-inline-block transition-3"
                    href="https://www.facebook.com/fundsroom/"><i class="fab fa-facebook-f"></i></a>
            </li>
            <li class="d-inline-block">
                <a class="twitter-color text-center pr-15 d-inline-block transition-3" href="https://x.com/fundsroom"><i
                        class="fab fa-twitter"></i></a>
            </li>
            <li class="d-inline-block">
                <a class="youtube-color text-center pr-15 d-inline-block transition-3"
                    href="https://www.youtube.com/@FundsAuditSafe"><i class="fab fa-youtube"></i></a>
            </li>
            <li class="d-inline-block">
                <a class="instagram-color text-center d-inline-block transition-3"
                    href="https://www.instagram.com/funds_audit/"><i class="fab fa-instagram"></i></a>
            </li>
        </ul><!-- social-link -->

        <!-- mobile phone area -->

        <!-- mobile subscribe area -->
        <!-- <div class="mobile-subscribe pb-55">
            <h6 class="mb-1">Subscribe to Our Newsletter</h6>
            <form action="#">
                <div class="subscribe-info mt-15 position-relative">
                    <input class="sub-name w-100 primary-border2 pl-20 pt-15 pb-15 pr-10 secondary-color rounded-0"
                        type="email" name="email" id="m-email" placeholder="Submit email">
                    <span class="secondary-color d-inline-block position-absolute pointer"><i
                            class="far fa-envelope"></i></span>
                </div>
            </form>
        </div> -->

    </div><!-- /side-mobile-menu -->
    <div class="body-overlay"></div>

    <!-- header extra info end  -->


    <main>
        <!-- ======other-page-area-start=========================================== -->
        <div class="other-page-area">
            <div class="page-height  d-flex align-items-center position-relative">
                <div class="other-page-bg position-absolute w-100 h-100 bg-no-repeat bg-cover z-index-1"
                    data-background="images/about-page/about-page-hero1.png"></div><!-- home2 slider bg -->

                <div class="container">
                    <div class="row">

                        <div class="col-12 d-flex align-items-center justify-content-center">
                            <div class="page-content text-center mt-110">

                                <h1 id="courseHeadingMain" class="text-white mb-15 text-capitalize"
                                    style="color: teal !important;" data-aos="fade-up" data-aos-duration="2000"
                                    data-aos-delay="150">
                                    <span class="f-700"></span>
                                </h1>

                                <nav aria-label="breadcrumb">
                                    <ol class="breadcrumb justify-content-center bg-transparent">
                                        <li class="breadcrumb-item"><a class="text-white" href="index.html"
                                                id="coursename"></a>
                                        </li>
                                    </ol>
                                </nav>

                            </div>
                        </div><!-- /col -->

                    </div><!-- /row -->
                </div><!-- /container -->
            </div>
        </div>
        <!-- slider-area-end  -->


        <!-- ====== course-details-page-area-start================================ -->
        <div class="course-details-page-area mt-5 pb-135">
            <div class="container">
                <div class="row">
                    <div class="col-xl-8  col-lg-8  col-md-12  col-sm-12 col-12">
                        <div class="course-details-page-content-wrapper pb-65">

                            <div class="course-details-content">
                                <div class="pc-category z-index1 mb-10">
                                    <span class="text-white f-500 theme-bg text-uppercase d-inline-block"
                                        id="courseCategory"></span>
                                </div><!-- /pc-category  -->
                                <h2>
                                    <a href="course-details.html" id="courseTitle"> </a>
                                </h2>
                            </div><!-- /popular-course-content-wrapper -->

                            <div class="course-details-video mb-45 mr-0">
                                <!-- Video -->
                                <iframe id="courseVideo" width="100%" height="400" frameborder="0"
                                    allowfullscreen></iframe>
                            </div>

                            <div class="row course-describe-wrapper">
                                <div class="col-xl-8  col-lg-7  col-md-8  col-sm- col- pr-xl-5 pr-lg-3 pr-md-4">
                                    <!-- Description -->
                                    <h3>Description</h3>
                                    <div class="course-description-left" id="courseDescription">

                                    </div>
                                </div><!-- /col -->

                                <!-- <div class="col-xl-4 col-lg-5 col-md-4 col-sm- col- pl-md-0">
                                    <div class="course-description-right mt-lg-1 text-center pl-20 pr-20 pt-20 pb-15">
                                        <h4 class="text-white text-capitalize mb-15">course-details</h4>
                                        <ul>
                                            <li class="text-white position-relative d-flex justify-content-between">
                                                <span><span class="cd-icon"><i class="fal fa-copy"></i></span>Day
                                                    Count</span>
                                                <span id="courseDayCount"></span>
                                            </li>
                                            <li class="text-white position-relative d-flex justify-content-between">
                                                <span><span class="cd-icon"><i
                                                            class="fal fa-copy"></i></span>Duration</span>
                                                <span id="courseDuration"></span>
                                            </li>
                                            <li class="text-white position-relative d-flex justify-content-between">
                                                <span><span class="cd-icon"><i
                                                            class="fal fa-copy"></i></span>Level</span>
                                                <span id="courseLevel"></span>
                                            </li>
                                            <li class="text-white position-relative d-flex justify-content-between">
                                                <span><span class="cd-icon"><i
                                                            class="fal fa-copy"></i></span>Language</span>
                                                <span id="courseLanguage"></span>
                                            </li>
                                        </ul>
                                    </div>
                                </div> -->

                            </div><!-- /course-describe-wrapper -->

                            <div class="faq-wrapper course-Curriculam-accordion mt-22">
                                <div class="cd-faq-title d-flex align-items-sm-center justify-content-between">
                                    <h3>MCQ Quiz</h3>
                                    <span><span id="totalQuestions"></span> Questions <span class="pl-10">15
                                            mins</span></span>
                                </div><!-- /cd-faq-title -->

                                <div class="accordion mt-10" id="accordion-quiz">
                                    <!-- Questions will be injected dynamically here -->
                                </div>

                                <!-- Submit Button -->
                                <div class="text-center mt-4">
                                    <button id="submitQuiz" class="btn btn-primary">Submit Answers</button>
                                </div>
                            </div><!-- /faq-wrapper -->


                            <div class="course-details-ratting-area mt-65">
                                <h3 class="mb-20">Results</h3>
                                <div class="course-details-ratting-wrapper pt-25 pb-25 pl-40 pr-35">
                                    <div class="row align-items-center">

                                        <!-- LEFT: Average Rating -->
                                        <div
                                            class="col-xl-3 col-lg-3 col-md-3 col-sm-12 d-flex justify-content-center border-right">
                                            <div class="cd-ratting-left text-center mb-3 mb-md-0">
                                                <h6 class="text-uppercase f-600 mb-6"></h6>
                                                <span id="averageScore"
                                                    class="cd-ratting-number f-500 line-height-1 d-block primary-color">0/0</span><br>
                                                <ul class="d-flex justify-content-center">
                                                    <li><span class="r-star-light-color"><i
                                                                class="fas fa-star"></i></span></li>
                                                    <li><span class="r-star-light-color"><i
                                                                class="fas fa-star"></i></span></li>
                                                    <li><span class="r-star-light-color"><i
                                                                class="fas fa-star"></i></span></li>
                                                    <li><span class="r-star-light-color"><i
                                                                class="fas fa-star"></i></span></li>
                                                    <li><span class="r-star-light-color"><i
                                                                class="fas fa-star"></i></span></li>
                                                </ul>
                                            </div>
                                        </div>

                                        <!-- RIGHT: Quiz Stats -->
                                        <div class="col-xl-9 col-lg-9 col-md-9 col-sm-12">
                                            <div class="row justify-content-center">

                                                <!-- Time -->
                                                <div class="col-md-4 text-center mb-3">
                                                    <h6 class="text-uppercase f-600">PERCENTAGE</h6>
                                                    <span id="percentage" class="d-block f-500 primary-color">00%</span>
                                                </div>

                                                <!-- Correct -->
                                                <div class="col-md-4 text-center mb-3">
                                                    <h6 class="text-uppercase f-600">Correct</h6>
                                                    <span id="correctAnswers"
                                                        class="d-block f-500 text-success">0</span>
                                                </div>

                                                <!-- Wrong -->
                                                <div class="col-md-4 text-center mb-3">
                                                    <h6 class="text-uppercase f-600">Wrong</h6>
                                                    <span id="wrongAnswers" class="d-block f-500 text-danger">0</span>
                                                </div>

                                            </div>
                                        </div>

                                    </div>
                                </div>
                            </div>

                            <!-- Case Study Section -->
                            <div class="case-study-wrapper mt-4 border rounded p-4">
                                <h3>Case Study</h3>
                                <div id="caseStudyQuestion" class="mb-2 font-weight-bold"></div>
                                <textarea id="caseStudyAnswer" rows="6" class="form-control"
                                    placeholder="Write your answer here..."></textarea>
                                <small class="text-muted d-block mt-1">Word Count: <span id="wordCount">0</span></small>
                                <div style="text-align:center;">
                                    <button id="submitCaseStudy" class="btn btn-primary mt-3">Submit Case Study</button>
                                </div>

                                <!-- Case Study Result (MCQ-style layout) -->
                                <div class="course-details-ratting-area mt-4" id="caseStudyResult"
                                    style="display:none;">
                                    <h3 class="mb-20">Results</h3>
                                    <div class="course-details-ratting-wrapper pt-25 pb-25 pl-40 pr-35">
                                        <div class="row align-items-center">
                                            <!-- LEFT: Stars -->
                                            <div
                                                class="col-xl-3 col-lg-3 col-md-3 col-sm-12 d-flex justify-content-center border-right">
                                                <div class="cd-ratting-left text-center mb-3 mb-md-0">
                                                    <h6 class="text-uppercase f-600 mb-6">Score (%)</h6>
                                                    <span id="caseStudyScore"
                                                        class="cd-ratting-number f-500 line-height-1 d-block primary-color"
                                                        style="font-size:50px;">0%</span>
                                                    <ul class="d-flex justify-content-center mb-2" id="caseStudyStars">
                                                        <li><span class="r-star-light-color"><i
                                                                    class="fas fa-star"></i></span></li>
                                                        <li><span class="r-star-light-color"><i
                                                                    class="fas fa-star"></i></span></li>
                                                        <li><span class="r-star-light-color"><i
                                                                    class="fas fa-star"></i></span></li>
                                                        <li><span class="r-star-light-color"><i
                                                                    class="fas fa-star"></i></span></li>
                                                        <li><span class="r-star-light-color"><i
                                                                    class="fas fa-star"></i></span></li>
                                                    </ul>
                                                </div>
                                            </div>

                                            <!-- RIGHT: Percentage & Pass/Fail -->
                                            <div class="col-xl-9 col-lg-9 col-md-9 col-sm-12">
                                                <div class="row justify-content-center">
                                                    <div class="col-md-6 text-center mb-3">
                                                        <h6 class="text-uppercase f-600">Percentage</h6>
                                                        <span id="caseStudyPercentage"
                                                            class="d-block f-500 primary-color">0%</span>
                                                    </div>
                                                    <div class="col-md-6 text-center mb-3">
                                                        <h6 class="text-uppercase f-600">Status</h6>
                                                        <span id="caseStudyStatus" class="d-block f-500"></span>
                                                    </div>
                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                </div>
                            </div>


                        </div><!-- /course-page2-tab-wrapper -->
                    </div><!-- /col -->

                    <div class="col-xl-4  col-lg-4  col-md-12  col-sm-12 col-12">
                        <div class="course-details-sidebar-wrapper mb-45 pl-xl-4">
                            <div class="row justify-content-center">
                                <!-- <div class="col-xl-12  col-lg-12  col-md-12  col-sm-12 col-12">
                                    <div class="course-wish">
                                        <a href="cart.html" class="d-block main-color text-center bg-white w-100"><span
                                                class="primary-color pr-2"><i class="fas fa-heart"></i></span>Add to
                                            wishlist</a>
                                    </div>
                                </div>/col -->

                                <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12" style="padding-top:-20%;">
                                    <div class="sidebar-widget cd-sidebar business-target mt-45"
                                        id="businessTargetWidget2">
                                        <h4 class="sidebar-instructor-title sidebar-title mb-35 text-white text-center"
                                            id="businessTargetHeading" style="background: #000;">
                                            Live Project Business Task
                                        </h4>

                                        <div class="about-instructor-wrapper text-center">
                                            <h2 id="achievedTargetDisplay2" class="mb-3"
                                                style="font-size: 36px; font-weight:700;">0 / 0</h2>
                                            <h4 class="sidebar-instructor-title sidebar-title mb-35 text-white text-center"
                                                id="targetPercentageDisplay2">
                                                0%
                                            </h4>
                                        </div>
                                    </div>
                                </div>

                                <style>
                                    .wallet-box {
                                        background: #ffffff;
                                        border-radius: 0px;
                                        padding: 25px 20px;
                                        border: 1px solid #e0e0e0;
                                        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
                                    }

                                    .wallet-title {
                                        background: #000;
                                        color: white;
                                        padding: 10px 0;
                                        font-size: 18px;
                                        font-weight: 600;
                                        border-radius: 8px;
                                        margin-bottom: 25px;
                                    }

                                    .wallet-number {
                                        font-size: 48px;
                                        font-weight: 700;
                                        color: #333;
                                        margin-bottom: 5px;
                                    }
                                </style>

                                <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12" style="padding-top: 10%;">
                                    <div class="wallet-box text-center">

                                        <h4 class="wallet-title">
                                            Subscriptions Left in Wallet
                                        </h4>

                                        <h1 id="leftSubscriptions" class="wallet-number">0</h1>

                                    </div>
                                </div>

                                <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12" style="padding-top: 2%;">
                                    <div class="sidebar-widget cd-sidebar business-target mt-45"
                                        id="businessTargetWidget">
                                        <h4 class="sidebar-instructor-title sidebar-title mb-35 text-white text-center"
                                            style="background: #000;">Business Task Details
                                        </h4>

                                        <div class="about-instructor-wrapper text-center">
                                            <h2 class="mb-3" style="font-size: 16px; font-weight:700; padding-top: 0%;">
                                                YouTube Tutorial</h2>
                                            <p
                                                style="margin-top: 2%; margin-bottom: 2%; padding-top: 2%; padding-left: 5%; padding-right: 5%; font-size: 12px;">
                                                In this video, we show you
                                                how to register on Eduroom and get started
                                                with your internship using the FundsAudit app. Learn how to fill your
                                                profile, link your
                                                referral code, and track your business and work targets in real time.
                                            </p>
                                            <a href="https://www.youtube.com/watch?v=QwbcAvI_BOY" target="_blank" style="color: #00c897; font-weight: 600; text-decoration: none; 
                                                    font-size: 12px; display: inline-block; word-wrap: break-word;">
                                                https://www.youtube.com/watch?v=QwbcAvI_BOY
                                            </a>

                                            <h2 class="mb-3"
                                                style="font-size: 16px; font-weight:700; padding-top: 10%;">
                                                Your Referral Link</h2>
                                            <a href="#" target="_blank" id="referralLink"
                                                style="color: #00c897; font-weight: 600; text-decoration: none;
                                                font-size: 12px; display: inline-block; 
                                                word-wrap: break-word; overflow-wrap: anywhere;
                                                max-width: 100%; white-space: normal; text-align: center; word-break: break-all; padding-left: 2%; padding-right: 2%;">
                                                --
                                            </a>

                                            <h4 class="sidebar-instructor-title sidebar-title mb-35 text-white text-center"
                                                style="background: #fff;">

                                            </h4>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12" style="padding-top: 2%;">
                                    <div class="sidebar-widget cd-sidebar overall-status mt-45"
                                        id="overallStatusWidget2">
                                        <h4 class="sidebar-instructor-title sidebar-title mb-35 text-white text-center"
                                            style="background: #000;">
                                            Live Project Session Status
                                        </h4>

                                        <div class="about-instructor-wrapper text-center">
                                            <h2 id="overallSessionsDisplay2" class="mb-3"
                                                style="font-size: 36px; font-weight:700;">0 / 0</h2>
                                            <h4 class="sidebar-instructor-title sidebar-title mb-35 text-white text-center"
                                                id="overallCompletionRate2">
                                                0%
                                            </h4>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-xl-11 col-lg-12 col-md-12 col-sm-12 col-12"
                                    style="margin-top: 15%; margin-left: 2%;" style="margin-top: 15%; margin-left: 2%;">
                                    <div class="course-description-right mt-lg-1 text-center pl-20 pr-20 pt-20 pb-15">
                                        <ul>
                                            <li class="text-white position-relative d-flex justify-content-between">
                                                <span><span class="cd-icon"><i class="fal fa-calendar"></i></span>Start
                                                    Date</span>
                                                <span id="courseStartDate"></span>
                                            </li>
                                            <li class="text-white position-relative d-flex justify-content-between">
                                                <span><span class="cd-icon"><i
                                                            class="fal fa-calendar-alt"></i></span>End Date</span>
                                                <span id="courseEndDate"></span>
                                            </li>
                                            <li class="text-white position-relative d-flex justify-content-between">
                                                <span><span class="cd-icon"><i class="fal fa-clock"></i></span>Time
                                                    Left</span>
                                                <span id="courseTimeLeft"></span>
                                            </li>
                                        </ul>
                                    </div>
                                </div>

                            </div><!-- /row -->
                        </div><!-- /course-filter-details -->
                    </div><!-- /col -->
                </div><!-- /row -->

                <div class="row course-details-page-content-bottom">
                    <div class="col-xl-8  col-lg-9  col-md-12  col-sm-12 col-12">
                        <div class="share-social-link">
                            <!-- <h3 class="mb-25">Share This Course</h3> -->
                            <ul class="social social-bg text-center d-flex">
                                <li class="mr-2">
                                    <a class="facebook-bg text-center rounded-circle pr-0  text-white d-inline-block transition-3"
                                        href="https://www.facebook.com/fundsroom/"><i class="fab fa-facebook-f"></i></a>
                                </li>
                                <li class="mr-2">
                                    <a class="twitter-bg text-center rounded-circle pr-0 text-white d-inline-block transition-3"
                                        href="https://x.com/fundsroom"><i class="fab fa-twitter"></i></a>
                                </li>
                                <li class="mr-2">
                                    <a class="instagram-bg text-center rounded-circle pr-0 text-white d-inline-block transition-3"
                                        href="https://www.instagram.com/funds_audit/"><i
                                            class="fab fa-instagram"></i></a>
                                </li>
                                <!-- <li class="mr-2">
                                    <a class="pinterest-bg text-center rounded-circle pr-0 text-white d-inline-block transition-3"
                                        href="#"><i class="fab fa-pinterest"></i></a>
                                </li>
                                <li class="mr-2">
                                    <a class="whatsapp-bg text-center rounded-circle pr-0 text-white d-inline-block transition-3"
                                        href="#"><i class="fab fa-whatsapp"></i></a>
                                </li>
                                <li class="mr-2">
                                    <a class="reddit-bg text-center rounded-circle pr-0 text-white d-inline-block transition-3"
                                        href="#"><i class="fab fa-reddit"></i></a>
                                </li>
                                <li class="mr-2">
                                    <a class="linkedin-bg text-center rounded-circle pr-0 text-white d-inline-block transition-3"
                                        href="#"><i class="fab fa-linkedin-in"></i></a>
                                </li> -->
                            </ul>
                        </div><!-- /share-social-link -->
                    </div><!-- /col -->
                </div><!-- /row -->
                <div class="d-flex justify-content-between align-items-center mt-5">
                    <button id="prevBtn"
                        class="btn btn-light shadow-sm d-flex align-items-center px-4 py-2 rounded-pill">
                        <i class="bi bi-arrow-left-circle me-2 fs-5"></i> Previous
                    </button>
                    <button id="nextBtn"
                        class="btn btn-primary shadow-sm d-flex align-items-center px-4 py-2 rounded-pill">
                        Next <i class="bi bi-arrow-right-circle ms-2 fs-5"></i>
                    </button>
                </div>

            </div><!-- /container -->
        </div><!-- /course-page2-tab-area -->
        <!-- course-area-end  -->

    </main>

    <!-- ====== footer-area-start ============================================ -->
    <footer>
        <div class="footer-area home4-footer-bg home2 pt-100 pb-10">

            <div class="footer-top home4 pt-5 pb-70">
                <div class="container">
                    <div class="row">
                        <div class="col-xl-4 col-lg-4 col-md-12 col-sm-12 col-12">
                            <div class="footer-widget f-about pb-5">

                                <div class="f-logo text-left mb-5">
                                    <img src="images/logo/logo4.png" alt="Eduroom">
                                </div><!-- /f-logo -->

                                <p>Eduroom is a comprehensive online learning platform that connects students,
                                    educators, and professionals. We provide quality live projects, interactive
                                    resources, and
                                    personalized learning paths to help learners.</p>
                            </div>
                        </div>
                        <!-- /col -->
                        <div class="col-xl-4 offset-lg-1  col-lg-4  col-md-7  col-sm-6 col-12">

                        </div><!-- /col -->
                        <div class="col-xl-3  col-lg-3  col-md-5  col-sm-6 col-12 px-lg-0">
                            <ul class="pl-65">
                                <li>
                                    <a href="about.html" class="position-relative d-inline-block mb-2">About
                                        Us</a>
                                </li>
                                <li>
                                    <a href="/domain-list.html" class="position-relative d-inline-block mb-2">Live
                                        Projects</a>
                                </li>
                                <li>
                                    <a href="contact.html" class="position-relative d-inline-block mb-2">Contact Us</a>
                                </li>
                                <li>
                                    <a href="login.html" class="position-relative d-inline-block mb-2">Login</a>
                                </li>
                            </ul>
                        </div><!-- /col -->
                    </div><!-- /row -->
                </div><!-- /container -->
            </div>
            <div class="footer-bottom">
                <div class="container">
                    <div class="copyright-area mt-22">
                        <div class="row align-items-center justify-content-between">
                            <div class="col-xl-6  col-lg-5  col-md-12  col-sm-12 col-12">
                                <div class="copyright-text text-center text-lg-left mt-20 mb-20">
                                    <p class="mb-0">All rights reserved
                                        <a class="c-theme main-color f-500">Eduroom</a> Â© 2025
                                    </p>
                                </div>
                            </div><!-- /col -->
                            <!-- <div class="col-xl-6  col-lg-7  col-md-12  col-sm-12 col-12">
                                <ul class="useful-link text-center text-lg-right mt-20">
                                    <li class="d-inline-block mb-20">
                                        <a href="about.html" class="secondary-color d-inline-block">Terms &amp;
                                            Condition</a>
                                    </li>
                                    <li class="d-inline-block pl-45 mb-20">
                                        <a href="about.html" class="secondary-color d-inline-block">Privacy</a>
                                    </li>
                                    <li class="d-inline-block pl-45 mb-20">
                                        <a href="about.html" class="secondary-color d-inline-block">Cookes</a>
                                    </li>
                                </ul>
                            </div> -->
                        </div>
                    </div><!-- /copyright-area -->
                </div><!-- /container -->
            </div>
        </div>
    </footer>

    <!-- back top -->
    <div id="scroll" class="scroll-up">
        <div class="top text-center"><span class="white-bg theme-color d-block"><i
                    class="fa fa-arrow-alt-up"></i></span></div>
    </div>

    <!-- All js here -->
    <script src="js/vendor/modernizr-3.5.0.min.js"></script>
    <script src="js/vendor/jquery-1.12.4.min.js"></script>
    <script src="js/popper.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/horizontal-skill-bars.js"></script>
    <script src="js/jquery-ui.js"></script>
    <script src="js/jquery.nice-select.min.js"></script>
    <script src="js/isotope.pkgd.min.js"></script>
    <script src="js/image-loaded.min.js"></script>
    <script src="js/jquery.fancybox.min.js"></script>
    <script src="js/waypoint.js"></script>
    <script src="js/counterup-min.js"></script>
    <script src="js/slick.min.js"></script>
    <script src="js/tilt.jquery.min.js"></script>
    <script src="js/countdown.min.js"></script>
    <script src="js/aos.js"></script>
    <script src="js/plugins.js"></script>
    <script src="js/jquery.meanmenu.min.js"></script>
    <script src="js/main.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <script>
        const userId = sessionStorage.getItem("user_id");
        // const userId = 2;
        // console.log("user_id:", userId);

        if (!userId) {
            Swal.fire({
                icon: "warning",
                title: "Not Logged In",
                text: "You need to login first to continue.",
                allowOutsideClick: false,
                allowEscapeKey: false,
                allowEnterKey: false,
                confirmButtonText: "Login"
            }).then(() => {
                window.location.href = "login.html";
            });
        }
    </script>

    <script>
        $(document).ready(function () {
            function getQueryParams() {
                var params = {};
                var queryString = window.location.search.substring(1);
                var pairs = queryString.split("&");
                for (var i = 0; i < pairs.length; i++) {
                    var pair = pairs[i].split("=");
                    params[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1] || "");
                }
                return params;
            }

            var queryParams = getQueryParams();

            var coursePreviewId = queryParams.previewId || queryParams.coursePreviewId || 1;
            var courseId = queryParams.courseId || 1;
            var sessionId = queryParams.Id || queryParams.session || 1;
            var dayNumber = queryParams.day || 1;
            var sessionNumber = queryParams.session || queryParams.sessionNumber || 1;
            var userId = queryParams.userId || 2;

            // console.log("courseId:", courseId,
            //     "coursePreviewId:", coursePreviewId,
            //     "day:", dayNumber,
            //     "session:", sessionNumber,
            //     "userId:", userId
            // );

            function formatYouTubeEmbed(url) {
                if (!url) return "";
                var videoId = "";
                if (url.includes("watch?v=")) {
                    videoId = url.split("watch?v=")[1];
                } else if (url.includes("youtu.be/")) {
                    videoId = url.split("youtu.be/")[1];
                } else {
                    videoId = url;
                }
                var params = "controls=1&modestbranding=1&rel=0&showinfo=0";
                return "https://www.youtube.com/embed/" + videoId + "?" + params;
            }

            var allSessions = [];
            var subscriptionLeft = 0; // from wallet API

            // Fetch wallet balance first
            $.ajax({
                url: `https://eduroom.in/api/v1/course/wallet/${userId}`,
                type: "GET",
                success: function (res) {
                    // console.log("Wallet API Response:", res);
                    if (res.success && res.data) {
                        subscriptionLeft = res.data.subscriptionLeft || 0;
                    }
                },
                error: function (xhr, status, error) {
                    console.error("Error fetching wallet:", error);
                }
            });

            $.ajax({
                url: `https://eduroom.in/api/v1/coursedetail/course-preview/${coursePreviewId}/details`,
                method: "GET",
                dataType: "json",
                data: {
                    Id: sessionId,
                    day: dayNumber,
                    sessionNumber: sessionNumber
                },
                success: function (response) {
                    // console.log("Course Preview Response:", response);
                    if (!response.success || !response.data || response.data.length === 0) {
                        console.warn("No course data found");
                        return;
                    }

                    allSessions = response.data;

                    const course = response.data.find(c =>
                        Number(c.day) === Number(dayNumber) &&
                        Number(c.sessionNumber) === Number(sessionNumber)
                    );

                    if (!course) {
                        console.warn(`No course found for day ${dayNumber}, session ${sessionNumber}`);
                        return;
                    }

                    $('#courseCategory').text(course.Domain?.name || "");
                    $('#courseTitle').text(course.heading || "");
                    $('#courseVideo').attr("src", formatYouTubeEmbed(course.youtubeLink));
                    $('#courseHeadingMain').text(course.title || "Courses");

                    var descContainer = $('#courseDescription');
                    descContainer.empty();
                    if (course.description) {
                        descContainer.append('<p>' + course.description + '</p>');
                    }

                    var quizContainer = $('#accordion-quiz');
                    quizContainer.empty();

                    if (course.QuestionModels && course.QuestionModels.length > 0) {
                        $('#totalQuestions').text(course.QuestionModels.length);

                        course.QuestionModels.forEach(function (q, index) {
                            if (!q || !q.question) return;

                            var qid = 'q' + q.id;
                            var optionsHtml = '';

                            ['optionA', 'optionB', 'optionC', 'optionD'].forEach(function (optKey, i) {
                                if (q[optKey] && q[optKey].trim() !== "") {
                                    var letter = String.fromCharCode(65 + i); // A, B, C, D
                                    optionsHtml += `
                                    <li class="mb-2">
                                        <label>
                                            <input type="radio" name="${qid}" value="${letter}"> ${q[optKey]}
                                        </label>
                                    </li>`;
                                }
                            });

                            var cardHtml = `
                            <div class="card border-0 mb-3" id="card-${qid}">
                                <div class="card-header border-bottom-0 p-0">
                                    <h6 class="mb-0 main-color f-500">
                                        Q${index + 1}. ${q.question}
                                    </h6>
                                </div>
                                <div class="card-body">
                                    <ul class="list-unstyled">${optionsHtml}</ul>
                                </div>
                            </div>`;

                            quizContainer.append(cardHtml);
                        });

                        fetchSavedAnswers();
                    }

                    // console.log("Course data loaded:", course);
                    setupNavigation(allSessions, dayNumber, sessionNumber);
                },
                error: function (xhr, status, error) {
                    console.error("AJAX Error:", status, error);
                }
            });

            function fetchSavedAnswers() {
                var scoreUrl = `https://eduroom.in/api/v1/coursedetail/mcq/score/${courseId}/${coursePreviewId}/${dayNumber}/${sessionNumber}/${userId}`;
                $.ajax({
                    url: scoreUrl,
                    method: "GET",
                    dataType: "json",
                    success: function (res) {
                        // console.log("get call response:", res);
                        if (res.success && res.score) {
                            if (res.score.answers) {
                                res.score.answers.forEach(function (ans) {
                                    var qid = "q" + ans.mcqId;
                                    var selected = ans.selectedOption;
                                    if (selected) {
                                        $(`input[name="${qid}"][value="${selected}"]`).prop("checked", true);
                                    }
                                });
                                // console.log("Saved answers pre-filled:", res.score.answers);
                            }

                            var correct = res.score.correctMCQs || 0;
                            var total = res.score.totalMCQs || 0;
                            var wrong = total - correct;

                            $('#averageScore').text(correct + "/" + total);
                            $('#totalAttempts').text(total);
                            $('#correctAnswers').text(correct);
                            $('#wrongAnswers').text(wrong);

                            var percentage = total > 0 ? Math.round((correct / total) * 100) : 0;
                            $('#percentage').text(percentage + '%');

                            var stars = Math.round(percentage / 20);
                            var starList = $('.cd-ratting-number').siblings('ul').find('li');
                            starList.each(function (index) {
                                if (index < stars) {
                                    $(this).find('span').removeClass('r-star-light-color').addClass('r-star-color');
                                } else {
                                    $(this).find('span').removeClass('r-star-color').addClass('r-star-light-color');
                                }
                            });
                        }
                    },
                    error: function (xhr, status, error) {
                        console.error("Error fetching saved answers:", error);
                    }
                });
            }

            $('#submitQuiz').on('click', function () {
                var answers = [];

                $('#accordion-quiz input[type="radio"]:checked').each(function () {
                    var mcqId = $(this).attr('name').replace('q', '');
                    var selectedOption = $(this).val();
                    answers.push({
                        mcqId: mcqId,
                        selectedOption: selectedOption
                    });
                });

                if (answers.length < 1) {
                    alert('Please select at least one answer before submitting.');
                    return;
                }

                var evaluateUrl = `https://eduroom.in/api/v1/coursedetail/course/${courseId}/preview/${coursePreviewId}/day/${dayNumber}/session/${sessionNumber}/evaluate`;

                $.ajax({
                    url: evaluateUrl,
                    method: "POST",
                    contentType: "application/json",
                    data: JSON.stringify({
                        userId: userId,
                        answers: answers
                    }),
                    success: function (response) {
                        if (response.success) {
                            // console.log("response data:", response);
                            var evalData = response.evaluation;

                            $('#averageScore').text(evalData.score);
                            $('#totalAttempts').text(evalData.totalQuestions);
                            $('#correctAnswers').text(evalData.correct);
                            $('#wrongAnswers').text(evalData.wrong);

                            var percentage = Math.round((evalData.correct / evalData.totalQuestions) * 100);
                            $('#percentage').text(percentage + '%');

                            var stars = Math.round(percentage / 20);
                            var starList = $('.cd-ratting-number').siblings('ul').find('li');
                            starList.each(function (index) {
                                if (index < stars) {
                                    $(this).find('span').removeClass('r-star-light-color').addClass('r-star-color');
                                } else {
                                    $(this).find('span').removeClass('r-star-color').addClass('r-star-light-color');
                                }
                            });

                            $('#accordion-quiz .card').each(function () {
                                $(this).css('border', '');
                                $(this).find('.correct-answer').remove();
                            });

                            evalData.results.forEach(function (res) {
                                var mcqCard = $('#card-q' + res.mcqId);
                                if (res.isCorrect) {
                                    mcqCard.css('border', '2px solid green');
                                } else {
                                    mcqCard.css('border', '2px solid red');
                                    if (!mcqCard.find('.correct-answer').length) {
                                        mcqCard.find('.card-body').append(
                                            '<p class="text-danger mt-2 correct-answer">Incorrect Answer â</p>'
                                        );
                                    }
                                }
                            });

                        } else {
                            alert('Failed to evaluate quiz.');
                        }
                    },
                    error: function (xhr, status, error) {
                        console.error("Evaluation AJAX Error:", status, error);
                        alert('Error submitting quiz. Please try again.');
                    }
                });
            });

            function setupNavigation(allSessions, currentDay, currentSession) {
                allSessions.sort((a, b) => (a.day - b.day) || (a.sessionNumber - b.sessionNumber));
                const currentIndex = allSessions.findIndex(c =>
                    Number(c.day) === Number(currentDay) &&
                    Number(c.sessionNumber) === Number(currentSession)
                );
                if (currentIndex === -1) return;

                $('#prevBtn').off('click').on('click', function () {
                    if (currentIndex > 0) {
                        const prev = allSessions[currentIndex - 1];
                        window.location.href = `/course-details.html?courseId=${courseId}&previewId=${coursePreviewId}&day=${prev.day}&session=${prev.sessionNumber}&userId=${userId}`;
                    } else {
                        alert("This is the first session.");
                    }
                });

                $('#nextBtn').off('click').on('click', function () {
                    if (currentIndex < allSessions.length - 1) {
                        const next = allSessions[currentIndex + 1];

                        // Check minBusinessTarget before navigating
                        if (subscriptionLeft >= (next.minBusinessTarget || 0)) {
                            window.location.href = `/course-details.html?courseId=${courseId}&previewId=${coursePreviewId}&day=${next.day}&session=${next.sessionNumber}&userId=${userId}`;
                        } else {
                            Swal.fire({
                                icon: "warning",
                                title: "Minimum Business Target Not Achieved",
                                text: `You need at least ${next.minBusinessTarget || 0} Business Tasks to be completed to unlock this session. Current Business Tasks completed: ${subscriptionLeft}.`,
                                confirmButtonText: "OK"
                            });
                        }
                    } else {
                        alert("This is the last session.");
                    }
                });
            }
        });
    </script>

    <script>
        $(document).ready(function () {

            var queryParams = (function () {
                var params = {};
                var queryString = window.location.search.substring(1);
                var pairs = queryString.split("&");
                for (var i = 0; i < pairs.length; i++) {
                    var pair = pairs[i].split("=");
                    params[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1] || "");
                }
                return params;
            })();

            var courseId = queryParams.courseId || 1;
            var coursePreviewId = queryParams.previewId || 1;
            var dayNumber = queryParams.day || 1;
            var sessionNumber = queryParams.session || 1;
            var userId = queryParams.userId || 1;

            var $caseWrapper = $('.case-study-wrapper');
            var questionId = null;

            $('#submitCaseStudy').prop('disabled', true);

            const caseStudyUrl = `https://eduroom.in/api/v1/coursedetail/course/${courseId}/preview/${coursePreviewId}/day/${dayNumber}/session/${sessionNumber}/casestudies?userId=${userId}`;
            // console.log("Case Study API URL:", caseStudyUrl);

            $.ajax({
                url: caseStudyUrl,
                method: "GET",
                success: function (response) {
                    // console.log("Case Study Response:", response);

                    if (response.success && response.data?.caseStudy) {
                        const caseStudy = response.data.caseStudy;
                        $('#caseStudyQuestion').text(caseStudy.caseStudy);
                        questionId = caseStudy.questionId;
                        $('#submitCaseStudy').prop('disabled', false);

                        fetchSavedCaseStudyAnswer();
                    } else {
                        $caseWrapper.hide();
                        console.warn(response.message || "No Case Study available.");
                    }
                },
                error: function (xhr, status, error) {
                    console.error("Case Study API Error:", status, error, xhr.responseText);
                    $caseWrapper.hide();
                }
            });

            $('#caseStudyAnswer').on('input', function () {
                var words = $(this).val().trim().split(/\s+/).filter(Boolean).length;
                $('#wordCount').text(words);
            });

            function fetchSavedCaseStudyAnswer() {
                if (!questionId) return;
                const savedUrl = `https://eduroom.in/api/v1/coursedetail/casestudy/result/${courseId}/${coursePreviewId}/${dayNumber}/${sessionNumber}/${questionId}/${userId}`;
                // console.log("Saved Case Study URL:", savedUrl);

                $.ajax({
                    url: savedUrl,
                    method: "GET",
                    dataType: "json",
                    success: function (res) {
                        // console.log("Saved Case Study Response:", res);

                        if (res.success && res.data) {

                            $('#caseStudyAnswer').val(res.data.answer || '');
                            var words = res.data.answer ? res.data.answer.trim().split(/\s+/).filter(Boolean).length : 0;
                            $('#wordCount').text(words);

                            var percent = parseFloat(res.data.matchPercentage || 0).toFixed(1);
                            $('#caseStudyScore').text(percent + '%');
                            $('#caseStudyPercentage').text(percent + '%');
                            $('#caseStudyStatus')
                                .text(res.data.passed ? 'Passed' : 'Failed')
                                .removeClass('text-success text-danger')
                                .addClass(res.data.passed ? 'text-success' : 'text-danger');

                            var stars = Math.round(percent / 20);
                            $('#caseStudyStars li').each(function (index) {
                                if (index < stars) {
                                    $(this).find('i').removeClass('fa-star').addClass('fa-star r-star-color');
                                } else {
                                    $(this).find('i').removeClass('r-star-color').addClass('fa-star');
                                }
                            });

                            $('#caseStudyResult').show();
                        }
                    },
                    error: function (xhr, status, error) {
                        console.error("Error fetching saved case study:", status, error);
                    }
                });
            }

            $('#submitCaseStudy').on('click', function () {
                var answer = $('#caseStudyAnswer').val().trim();
                if (!answer) {
                    alert("Please write your answer before submitting.");
                    return;
                }

                if (!questionId) {
                    alert("Case study question not loaded. Please try again later.");
                    return;
                }
                // console.log("answer:", answer);

                $.ajax({
                    url: `https://eduroom.in/api/v1/coursedetail/course/${courseId}/preview/${coursePreviewId}/day/${dayNumber}/session/${sessionNumber}/question/${questionId}/casestudy`,
                    method: "POST",
                    contentType: "application/json",
                    data: JSON.stringify({ userId: userId, answer: answer }),
                    success: function (response) {
                        if (response.success && response.data) {
                            // console.log("post response of case study:", response);
                            $('#caseStudyResult').show();

                            var percent = parseFloat(response.data.matchPercentage || 0).toFixed(1);

                            $('#caseStudyScore').text(percent + '%');
                            $('#caseStudyPercentage').text(percent + '%');
                            $('#caseStudyStatus')
                                .text(response.data.passed ? 'Passed' : 'Failed')
                                .removeClass('text-success text-danger')
                                .addClass(response.data.passed ? 'text-success' : 'text-danger');

                            var stars = Math.round(percent / 20);
                            $('#caseStudyStars li').each(function (index) {
                                if (index < stars) {
                                    $(this).find('i').removeClass('fa-star').addClass('fa-star r-star-color');
                                } else {
                                    $(this).find('i').removeClass('r-star-color').addClass('fa-star');
                                }
                            });

                            if (percent >= 20) {
                                Swal.fire({
                                    icon: 'success',
                                    title: 'Congratulations!',
                                    text: 'You passed the case study.',
                                    confirmButtonText: 'OK'
                                });
                            } else {
                                Swal.fire({
                                    icon: 'error',
                                    title: 'Case Study Failed',
                                    text: 'Your answers do not match the requirements of the case study.\nPlease review the case study and instructions carefully.\nTry submitting again after making improvements.',
                                    confirmButtonText: 'OK'
                                });
                            }

                        } else {
                            alert(response.message || "Failed to submit case study.");
                        }
                    },
                    error: function () {
                        alert("Error submitting case study. Please try again.");
                    }
                });
            });
        });
    </script>

    <!-- business target -->
    <script>
        $(document).ready(function () {
            function getQueryParams() {
                const url = window.location.href;
                const queryString = url.split("?")[1];
                if (!queryString) return {};

                const fixedQuery = queryString.replace(/\?/g, "&");
                const params = new URLSearchParams(fixedQuery);

                let result = {};
                for (const [key, value] of params.entries()) {
                    result[key] = value;
                }
                return result;
            }

            const params = getQueryParams();
            const courseId = params.courseId || 1;
            const coursePreviewId = params.coursePreviewId || null;
            const userId = sessionStorage.getItem("user_id");

            // console.log("courseId:", courseId, "coursePreviewId:", coursePreviewId, "userId:", userId);

            if (!userId) {
                console.warn(" No userId found in sessionStorage");
                return;
            }

            const achievedTargetDisplay = $("#achievedTargetDisplay2");
            const targetPercentageDisplay = $("#targetPercentageDisplay2");
            const businessTargetWidget = $("#businessTargetWidget2");
            const courseStartDate = $("#courseStartDate");
            const courseEndDate = $("#courseEndDate");
            const courseTimeLeft = $("#courseTimeLeft");

            $.ajax({
                url: `https://eduroom.in/api/v1/coursedetail/course/${courseId}/user/${userId}/business-target`,
                method: "GET",
                dataType: "json",
                success: function (data) {
                    // console.log("Business Target Response:", data);

                    if (data.success && data.data) {

                        const target = parseInt(data.data.businessTarget) || 0;
                        const achieved = parseInt(data.data.achievedCount) || 0;

                        achievedTargetDisplay.text(`${achieved} / ${target}`);

                        let percentage = 0;
                        if (target > 0) {
                            percentage = Math.round((achieved / target) * 100);
                            percentage = Math.min(percentage, 100);
                        }

                        targetPercentageDisplay.text(`${percentage}%`);

                        if (percentage < 40) {
                            targetPercentageDisplay.css("background", "#ff4d4f");
                        } else if (percentage < 75) {
                            targetPercentageDisplay.css("background", "#ffa500");
                        } else {
                            targetPercentageDisplay.css("background", "#00c897");
                        }

                        const startDate = data.data.startDate;
                        const endDate = data.data.endDate;

                        function formatDate(dateStr) {
                            const options = { day: "2-digit", month: "short", year: "numeric" };
                            return new Date(dateStr).toLocaleDateString("en-GB", options).replace(/,/g, "");
                        }

                        courseStartDate.text(formatDate(startDate));
                        courseEndDate.text(formatDate(endDate));

                        function updateCountdown() {
                            const now = new Date().getTime();
                            const end = new Date(endDate).getTime();
                            const distance = end - now;

                            if (distance <= 0) {
                                courseTimeLeft.text("Expired");
                                clearInterval(timer);
                                return;
                            }

                            const days = Math.floor(distance / (1000 * 60 * 60 * 24));
                            const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                            const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                            const seconds = Math.floor((distance % (1000 * 60)) / 1000);

                            courseTimeLeft.text(`${days}d ${hours}h ${minutes}m ${seconds}s`);
                        }

                        const timer = setInterval(updateCountdown, 1000);
                        updateCountdown();
                    }
                },
                error: function (xhr, status, error) {
                    console.error("AJAX Error:", status, error);
                }
            });
        });
    </script>


    <!-- OVER ALL STATUS -->

    <script>
        $(document).ready(function () {
            // Parse query params
            var queryParams = (function () {
                var params = {};
                var queryString = window.location.search.substring(1);
                var pairs = queryString.split("&");
                for (var i = 0; i < pairs.length; i++) {
                    var pair = pairs[i].split("=");
                    params[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1] || "");
                }
                return params;
            })();

            var courseId = queryParams.courseId || 1;
            var previewId = queryParams.previewId || 1;
            var userId = queryParams.userId || 1;

            const sessionsDisplay = $("#overallSessionsDisplay2");
            const completionRateDisplay = $("#overallCompletionRate2");
            const overallStatusWidget = $("#overallStatusWidget2");

            $.ajax({
                url: `https://eduroom.in/api/v1/coursedetail/course/${courseId}/preview/${previewId}/user/${userId}/overallstatus`,
                method: "GET",
                dataType: "json",
                success: function (res) {
                    // console.log("Overall Status Response:", res);

                    if (res.success && res.overallStatus) {
                        const totalSessions = res.overallStatus.totalSessions || 0;
                        const completedSessions = res.overallStatus.completedSessions || 0;
                        const completionRate = res.overallStatus.completionRate || "0%";

                        // Update UI
                        sessionsDisplay.text(`${completedSessions} / ${totalSessions}`);
                        completionRateDisplay.text(completionRate);

                        // Convert completionRate to number for styling
                        const rateNum = parseFloat(completionRate.replace("%", "")) || 0;

                        // Pill-style percentage
                        // completionRateDisplay.css({
                        //     "color": "white",
                        //     "padding": "6px 18px",
                        //     "border-radius": "50px",
                        //     "display": "inline-block",
                        //     "min-width": "70px",
                        //     "text-align": "center"
                        // });

                        if (rateNum < 40) {
                            completionRateDisplay.css("background", "#ff4d4f"); // red
                        } else if (rateNum < 75) {
                            completionRateDisplay.css("background", "#ffa500"); // orange
                        } else {
                            completionRateDisplay.css("background", "#00c897"); // green
                        }
                    }
                },
                error: function (xhr, status, error) {
                    console.error("AJAX Error:", status, error);
                }
            });
        });
    </script>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        $(document).ready(function () {
            $.ajax({
                url: "https://eduroom.in/api/v1/course/courses?userId=1",
                method: "GET",
                success: function (response) {
                    // console.log("API Response:", response);

                    if (response && response.data && Array.isArray(response.data)) {
                        let domainCourseWrapper = $("#domainCourseWrapper");
                        domainCourseWrapper.empty();

                        let domainMap = {};

                        response.data.forEach(function (course) {
                            let domainName = course.Domain && course.Domain.name ? course.Domain.name : "Others";
                            if (!domainMap[domainName]) {
                                domainMap[domainName] = [];
                            }
                            domainMap[domainName].push(course);
                        });

                        Object.keys(domainMap).forEach(function (domain) {
                            let li = $('<li class="ml-xl-5 ml-lg-4 pl-xl-4"></li>');

                            li.append(`
                            <a href="domain-list.html" class="mt-4 mt-lg-0">
                                <span class="d-block f-700 main-color mb-10">${domain}</span>
                            </a>
                        `);

                            domainMap[domain].forEach(function (course) {
                                if (course.name) {
                                    li.append(`
                                    <a href="course.html?domainId=${course.domainId}">
                                        ${course.name}
                                    </a>
                                `);
                                }
                            });

                            domainCourseWrapper.append(li);
                        });
                    }
                },
                error: function (xhr, status, error) {
                    console.error("Error fetching courses:", error);
                }
            });
        });
    </script>

    <script>
        window.addEventListener("pageshow", function (event) {
            if (event.persisted || (window.performance && window.performance.getEntriesByType("navigation")[0].type === "back_forward")) {
                window.location.reload();
            }
        });

        $(document).ready(function () {
            const userId = sessionStorage.getItem("user_id");

            const loginRegisterHTML = `
            <ul class="header-login mr-15 d-none d-sm-block">
                <li>
                    <a class="d-inline-block main-color" href="login.html" data-toggle="tooltip"
                        data-selector="true" data-placement="bottom" title="Login / Register">
                        LOGIN</a>
                </li>
            </ul>

            <div class="my-btn d-none d-sm-block">
                <a href="register.html" class="btn white-bg">Register</a>
            </div>

            <div class="d-block d-sm-none w-100 mt-0 mobile-login-btn">
                <div class="home4-btn1 w-100 text-center">
                    <a href="login.html" class="btn text-uppercase f-500 text-white transition5 w-100">Login</a>
                </div>
            </div>

            <style>
            .mobile-login-btn .home4-btn1 .btn {
                background: linear-gradient(105deg, #4f46e5, #6366f1); /* same gradient as your hero button */
                padding: 6px 0;
                border-radius: 30px;
                font-size: 12px;
                box-shadow: 0 6px 15px rgba(0,0,0,0.1);
                transition: all 0.3s ease;
            }

            .mobile-login-btn .home4-btn1 .btn:hover {
                background: linear-gradient(105deg, #6366f1, #4f46e5);
                transform: translateY(-3px);
                box-shadow: 0 8px 18px rgba(0,0,0,0.15);
            }
            </style>
        `;

            const logoutHTML = `
            <div class="my-btn d-none d-sm-block">
                <a href="javascript:void(0);" id="logoutBtn" class="btn white-bg">Logout</a>
            </div>

            <div class="d-block d-sm-none w-100 mobile-logout-btn">
                <div class="home4-btn1 w-100 text-center">
                    <a href="javascript:void(0);" id="logoutBtn" class="btn text-uppercase f-500 text-white transition5 w-100">Logout</a>
                </div>
            </div>

            <style>
            .mobile-logout-btn {
                display: flex;
                justify-content: center;
                align-items: center;
                height: 100%; /* ensures vertical alignment */
            }

            .mobile-logout-btn .home4-btn1 .btn {
                background: linear-gradient(105deg, #4f46e5, #6366f1);
                padding: 8px 0;
                border-radius: 30px;
                font-size: 12px;
                box-shadow: 0 6px 15px rgba(0,0,0,0.1);
                transition: all 0.3s ease;
            }

            .mobile-logout-btn .home4-btn1 .btn:hover {
                background: linear-gradient(105deg, #6366f1, #4f46e5);
                transform: translateY(-3px);
                box-shadow: 0 8px 18px rgba(0,0,0,0.15);
            }
            </style>
        `;

            if (userId) {
                $("#auth-buttons").html(logoutHTML);
            } else {
                $("#auth-buttons").html(loginRegisterHTML);
            }

            $(document).on("click", "#logoutBtn", function () {
                Swal.fire({
                    title: "Logging out...",
                    text: "Please wait",
                    allowOutsideClick: false,
                    didOpen: () => {
                        Swal.showLoading();
                    }
                });

                $.ajax({
                    url: "https://eduroom.in/api/v1/user/logout",
                    type: "POST",
                    contentType: "application/json",
                    data: JSON.stringify({ id: userId }),
                    success: function (res) {
                        // console.log("Logout success:", res);

                        sessionStorage.removeItem("user_id");

                        Swal.fire({
                            icon: "success",
                            title: "Logged Out",
                            text: "You have been logged out successfully!",
                            showConfirmButton: false,
                            timer: 2000
                        }).then(() => {
                            window.top.location.href = "/login.html";
                        });
                    },
                    error: function (err) {
                        console.error("Logout error:", err);

                        Swal.fire({
                            icon: "error",
                            title: "Logout Failed",
                            text: "Something went wrong. Please try again!",
                            confirmButtonText: "OK"
                        });
                    }
                });
            });
        });
    </script>

    <script>
        $(document).ready(function () {
            const userId = sessionStorage.getItem("user_id");
            // const userId = 2;

            // console.log("user_id:", userId);

            $.ajax({
                url: `https://eduroom.in/api/v1/user/profile/${userId}`,
                method: "GET",
                success: function (response) {
                    if (response.success && response.data) {
                        // console.log(response);
                        const user = response.data;

                        $("#referralLink").text(user.ReferralLink || "--");
                        $("#referralLink").attr("href", user.ReferralLink || "#");
                    }
                },
                error: function (err) {
                    console.error("Failed to fetch user profile:", err);
                }
            });
        });
    </script>

    <script>
        const userId2 = sessionStorage.getItem("user_id");
        // const userId = 2;
        // console.log("user_id:", userId);

        $(document).ready(function () {
            $.ajax({
                url: `https://eduroom.in/api/v1/course/wallet/${userId2}`,
                type: "GET",
                success: function (res) {
                    console.log("API Response:", res);

                    if (res.success && res.data) {

                        // let total = res.data.subscriptionWalletTotal || 0;
                        let left = res.data.subscriptionLeft || 0;

                        // $("#totalSubscriptions").text(total);
                        $("#leftSubscriptions").text(left);
                    }
                },
                error: function (xhr, status, error) {
                    console.error("Error fetching wallet:", error);
                }
            });
        });
    </script>

</body>

</html>